<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta property="og:type" content="website" />
  
  <script>
    'use strict';
    
    function genEl (name, isEmptyEl, content, attrObj, parent = document.head) {
      const el = document.createElement(name);
      if (!isEmptyEl) {
        el.textContent = content;
      }
      if (attrObj) {
        for (const prop in attrObj) {
          el.setAttribute(prop, attrObj[prop]);
        }
      }
      parent.appendChild(el);
    }
    
    if (location.search) {
      const params = new URLSearchParams(location.search);
      
      if (params.has('title')) {
        genEl('title', false, params.get('title'));
        
        genEl('meta', true, '', {
          property: 'og:title',
          content: params.get('title')
        });
      }
      
      if (params.has('description')) {
        genEl('meta', true, '', {
          name: 'description',
          content: params.get('description')
        });
        
        genEl('meta', true, '', {
          property: 'og:description',
          content: params.get('description')
        });
      }
    }
  </script>
</head>
<body>
  <script>
    'use strict';
    
    if (location.search) {
      const params = new URLSearchParams(location.search);

      if (params.has('title')) {
        genEl('h1', false, params.get('title'), null, document.body);
      }
      
      if (params.has('description')) {
        genEl('p', false, params.get('description'), null, document.body);
      }
      
      genEl('p', false, 'Query string parameters:', {
        style: 'font-weight: bold;'
      }, document.body);
      
      const ol = document.createElement('ol');

      for (const [prop, value] of params) {
        genEl('li', false, `${prop}: ${value}`, null, ol);
      }
      
      document.body.appendChild(ol);
    }
  </script>
</body>
</html>
